<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ranking Juego 3</title>

<style>
body{
  margin:0;
  padding:40px;
  background:
    linear-gradient(rgba(0,0,0,.7), rgba(0,0,0,.7)),
    url("fongo.png") center/cover fixed;
  color:white;
  font-family:Arial, Helvetica, sans-serif;
  text-align:center;
}

/* ğŸ”˜ BOTÃ“N ADMIN */
.admin-btn{
  position:fixed;
  top:20px;
  right:20px;
  padding:10px 18px;
  background:#f59e0b;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  transition:.3s;
  z-index:1000;
}

.admin-btn:hover{
  transform:scale(1.05);
  background:#fbbf24;
}

h1{
  margin-bottom:40px;
}

/* ğŸ”¥ GRID 4x3 */
.grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, auto);
  gap:25px;
  max-width:1200px;
  margin:auto;
}

.card{
  background:#1e293bcc;
  backdrop-filter:blur(6px);
  padding:20px;
  border-radius:15px;
  transition:.3s;
}

.card:hover{
  transform:scale(1.05);
}

.card img{
  width:100%;
  height:200px;
  object-fit:cover;
  border-radius:10px;
}

.pos{
  font-size:22px;
  font-weight:bold;
  margin-top:10px;
}

.nombre{
  font-size:20px;
  margin:5px 0;
}

.puntaje{
  font-size:18px;
  color:#38bdf8;
}

/* ğŸ“± RESPONSIVE */
@media(max-width:900px){
  .grid{
    grid-template-columns: repeat(2, 1fr);
  }
}

@media(max-width:500px){
  .grid{
    grid-template-columns: 1fr;
  }
}
</style>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>

<body>

<button class="admin-btn" onclick="location.href='admin.html'">
âš™ ADMIN
</button>

<h1>ğŸ† RANKING JUEGO 3 ğŸ†</h1>

<div id="ranking" class="grid"></div>

<script>

/* ğŸ”¥ FIREBASE JUEGO 3 */
firebase.initializeApp({
  apiKey: "AIzaSyDJxaVNCzl2bUpQDFpC_g4cDxZ3Y9pT-68",
  authDomain: "ranking-mitos-juego3.firebaseapp.com",
  databaseURL: "https://ranking-mitos-juego3-default-rtdb.firebaseio.com",
  projectId: "ranking-mitos-juego3"
});

const db = firebase.database().ref("jugadores_juego3");
const contenedor = document.getElementById("ranking");

db.on("value", snapshot => {

  contenedor.innerHTML = "";

  let jugadores = Object.values(snapshot.val() || {})
    .sort((a,b)=> b.puntaje - a.puntaje)
    .slice(0,12); // ğŸ”¥ SOLO 12 (4x3)

  jugadores.forEach((j,i)=>{
    contenedor.innerHTML += `
      <div class="card">
        <img src="${j.foto}">
        <div class="pos">#${i+1}</div>
        <div class="nombre">${j.nombre}</div>
        <div class="puntaje">${j.puntaje} pts</div>
      </div>
    `;
  });

});
</script>

</body>
</html>
